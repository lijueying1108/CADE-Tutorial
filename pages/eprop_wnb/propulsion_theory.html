

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Propulsion System &mdash; ADSP 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../static/css/theme.css?v=e59714d7" />

  
      <script src="../static/jquery.js?v=5d32c60e"></script>
      <script src="../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../static/documentation_options.js?v=f2a433a1"></script>
      <script src="../static/doctools.js?v=9bcbadda"></script>
      <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ADSP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../vehicles.html">Vehicles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_history.html">Development History</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation_and_setup.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first_run.html">First Run</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units_and_reference_frames.html">Units and Reference Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="../program_structure.html">Program structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmd_input.html">Command input file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_input.html">Aircraft Configuration Input File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_databases.html">Component Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../available_analysis.html">Available Analysis Runcases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration_theory.html">Configuration Theory Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../weight_and_balance_theory.html">Weight and Balance Theory Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../propulsion_theory.html">Propulsion Theory Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance_theory.html"><strong>Performance and Mission Analysis Theory Manual</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance_theory.html#performance-analysis-module-flight-segment-analysis-and-point-performance-optimization"><strong>Performance Analysis Module/Flight Segment Analysis and Point Performance Optimization</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ADSP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Propulsion System</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../sources/eprop_wnb/propulsion_theory.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="propulsion-system">
<h1>Propulsion System<a class="headerlink" href="#propulsion-system" title="Link to this heading"></a></h1>
<hr class="docutils" />
<section id="background-and-introduction">
<h2>Background and Introduction<a class="headerlink" href="#background-and-introduction" title="Link to this heading"></a></h2>
<p>The propulsion system can vary depending on the requirements and vehicle type. The UAV in Fig. 01 utilizes a propulsion system suitable for small aircraft and UAVs characterized by BLDC (Brushless DC) motors combined with fixed-pitch propellers. The BLDC motors are known for their high efficiency, reliability, and power-to-weight ratio, making them ideal for UAV applications with critical performance and battery life. The fixed-pitch propellers, as opposed to variable-pitch ones, have a constant blade angle, simplifying the design and reducing mechanical complexity. This combination allows for stable and efficient thrust generation, suitable for the precise and consistent control required in various UAV operations, including aerial photography, surveillance, and recreational flying. The system is optimized to balance lift and maneuverability, ensuring smooth flight dynamics and responsive control.</p>
<figure style="text-align: center;">
  <img src="figures/propeller-uav.png">
  <figcaption>Fig. 01: UAV Propulsion System</figcaption>
</figure>
<p>The propulsion system of the UAV, as depicted in Figure 2, comprises a Brushless Direct Current (BLDC) motor. The motor, as shown in Fig. 03, receives electrical power from the battery. The battery supplies DC power to the motor, which a controller regulates. This controller manages the speed and rotational direction of the BLDC motor by adjusting the electrical input, thereby controlling the motor’s speed, i.e., Revolutions Per Minute (RPM). The motor, in turn, drives the fixed-pitch propeller. As the propeller rotates at varying speeds, it produces the necessary thrust to lift and maneuver the UAV. The fixed-pitch design of the propeller means that the blade angle is fixed, simplifying the mechanical aspects of the system while relying on the RPM adjustments to control the thrust and, consequently, the flight dynamics of the UAV. This integration of battery, controller, motor, and propeller ensures efficient and responsive propulsion, which is critical for the UAV’s performance and operational capabilities.</p>
<figure style="text-align: center;">
  <img src="figures/prop-uav.png">
  <figcaption>Fig. 02: UAV Propulsion System</figcaption>
</figure>
<figure style="text-align: center;">
  <img src="figures/bldc_motor.png">
  <figcaption>Fig. 03: BLDC Motor</figcaption>
</figure>
<p>The propulsion system for a typical Urban Air Mobility (UAM) vehicle is shown in Fig. 04. The system starts with a battery that supplies DC power. A converter converts this DC power to a suitable voltage level before feeding it to an inverter. The inverter’s role is to transform the DC into Alternating Current (AC) power, which the motor requires. A controller oversees this process, adjusting the inverter’s output through a control signal to manage the duty cycle and ensure the motor operates correctly. The controller also receives feedback from the motor to make real-time adjustments, optimizing performance and efficiency. The motor, driven by AC power, generates torque transmitted through a gearbox (if needed). The gearbox adjusts the motor’s torque and RPM to the optimal levels for the propeller. The propeller, driven by the adjusted RPM and torque, creates the necessary thrust to lift and propel the UAM vehicle. This complex integration of battery, converter, inverter, motor, gearbox, and propeller, all managed by a controller, ensures the UAM system operates with high efficiency, precision, and reliability, which are vital for the demands of urban air transportation.</p>
<figure style="text-align: center;">
  <img src="figures/prop-uam.png">
  <figcaption>Fig. 04: UAM Propulsion System</figcaption>
</figure>
<p>Fig. 05 illustrates an all-electric Distributed Electric Propulsion (DEP) system designed for efficient and reliable operation in electric aircraft. The DC power from the battery is distributed to multiple propulsion units, each consisting of a converter, an inverter, and a motor connected to a propeller. The DEP system distributes the propulsion power across multiple units, which can improve efficiency, redundancy, and control. This design allows for more precise thrust management and can enhance the aircraft’s safety and performance by providing multiple propulsion sources. If one unit fails, the others can continue to operate, ensuring continued flight capabilities. This setup is especially beneficial for electric aircraft, where maximizing efficiency and reliability is crucial.</p>
<figure style="text-align: center;">
  <img src="figures/prop-all-electric.png">
  <figcaption>Fig. 05: UAM Propulsion System</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Electrical Component</p></th>
<th class="head"><p>Generator</p></th>
<th class="head"><p>Rectifier</p></th>
<th class="head"><p>Electrical Bus</p></th>
<th class="head"><p>Inverter</p></th>
<th class="head"><p>Motor</p></th>
<th class="head"><p>Total Efficiency</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Electrical efficiency</p></td>
<td><p>95%</p></td>
<td><p>95%</p></td>
<td><p>99%</p></td>
<td><p>95%</p></td>
<td><p>95%</p></td>
<td><p>80.6%</p></td>
</tr>
</tbody>
</table>
<p><strong>Table 1: Electrical Component Efficiency</strong></p>
<p>Fig. 06 showcases a propulsion system for UAM or Regional Air Mobility (RAM) applications, utilizing an Axial Flux Permanent Magnet (AXIPM) motor coupled with a variable pitch propeller. This type of motor features an axial flux design (as illustrated in Fig. 07), typically providing a high power-to-weight ratio and efficient energy conversion. It is well-suited for aviation applications where space and weight are critical considerations. The permanent magnet configuration enhances the motor’s efficiency and performance.</p>
<figure style="text-align: center;">
  <img src="figures/propeller-uam.png">
  <figcaption>Fig. 06: Variable pitch propeller</figcaption>
</figure>
<figure style="text-align: center;">
  <img src="figures/motor_axial_radial.png">
  <figcaption>Fig. 07: Radial and Axial flux PMSM motor</figcaption>
</figure>
<p>This combination of an AXIPM motor with a variable pitch propeller provides several advantages for UAM/RAM vehicles. The high efficiency and power density of the AXIPM motor and the adaptability of the variable pitch propeller ensure that the propulsion system can deliver the necessary thrust with optimal efficiency and control. This setup is particularly beneficial in urban and regional air mobility contexts, where varying flight conditions and the need for precise maneuverability are common.</p>
<p>For a typical case, Fig. 08 shows the performance data and plots obtained from the manufacturer’s website of EMRAX 348, a high-performance electric motor for various applications, including aviation, automotive, and industrial uses. The motor can deliver a peak power of 400 kW and a peak torque of 1000 Nm. This level of performance is typically used for short bursts, such as takeoff in aviation or acceleration in automotive applications. The performance graph indicates peak power and peak torque at higher RPM ranges. The motor achieves its peak power of around 4000 RPM, where the torque decreases. The efficiency map shows the motor’s efficiency across different speeds and torque levels. The highest efficiency regions (94%-96%) are found at moderate speeds and torque values, indicating optimal operating conditions for continuous usage.</p>
<p>The motor’s continuous power rating is 210 kW with a continuous torque of 500 Nm, suitable for sustained operations without overheating. These values ensure that the motor runs efficiently for prolonged periods, maintaining high performance without significant thermal buildup.</p>
<p>Such motors stand out due to their high-power density, efficiency, and versatility. Whether for aviation, automotive, or industrial applications, it offers a robust solution that delivers peak performance and sustained efficiency. The detailed performance graphs and efficiency maps provide valuable insights for optimizing its use across various scenarios.</p>
<figure style="text-align: center;">
  <img src="figures/motor_01.png">
  <figcaption>Fig. 08: EMRAX 348 Axial Flux Motor</figcaption>
</figure>
<p>Unlike fixed-pitch propellers, variable-pitch propellers allow the angle of the blades to be adjusted. This adjustment capability enables optimization of thrust and efficiency across different phases of flight, such as takeoff, cruising, and landing. The propeller can maintain optimal aerodynamic efficiency, as illustrated in Fig. 09, by varying the pitch, improving overall performance and fuel efficiency.</p>
<figure style="text-align: center;">
  <img src="figures/peak_eff.png">
  <figcaption>Fig. 09: Propeller efficiencies with varying pitch</figcaption>
</figure>
</section>
<section id="propeller-model">
<h2>Propeller Model<a class="headerlink" href="#propeller-model" title="Link to this heading"></a></h2>
<p>The propeller performance is estimated using a physics-based approach, viz., Blade Element Momentum Theory. We now provide a brief description of the approach.</p>
<section id="introduction-to-blade-element-momentum-theory-bemt">
<h3>Introduction to Blade Element Momentum Theory (BEMT):<a class="headerlink" href="#introduction-to-blade-element-momentum-theory-bemt" title="Link to this heading"></a></h3>
<p>Blade Element Momentum Theory (BEMT) is a fundamental method used in aerodynamics and propeller analysis to predict the performance of propellers, wind turbines, and other rotary wings. It combines the principles of blade element theory and momentum theory to provide a comprehensive understanding of the forces and moments acting on each blade of a propeller. BEMT is widely used due to its balance between accuracy and computational efficiency, making it suitable for preliminary design and detailed performance analysis.</p>
<section id="blade-element-theory-bet">
<h4>Blade Element Theory (BET):<a class="headerlink" href="#blade-element-theory-bet" title="Link to this heading"></a></h4>
<p>Blade Element Theory divides the propeller blade into small, discrete elements along its span. Each blade element is analyzed independently to determine the local aerodynamic forces acting on it. The key steps include:</p>
<ul class="simple">
<li><p>Dividing the Blade: The blade is segmented into several small elements, each with its own local chord length, twist angle, and airfoil properties.</p></li>
<li><p>Calculating Local Forces: For each blade element, the lift and drag forces are calculated based on the local angle of attack and relative wind speed. These forces are resolved into thrust and torque components.</p></li>
</ul>
</section>
<section id="momentum-theory">
<h4>Momentum Theory:<a class="headerlink" href="#momentum-theory" title="Link to this heading"></a></h4>
<p>Momentum Theory applies mass and momentum conservation principles to the airflow through the propeller disk. It considers the propeller an actuator disk that imparts momentum to the air, resulting in thrust. The key aspects include:</p>
<ul class="simple">
<li><p>Axial Momentum: The change in axial momentum of the airflow is used to determine the thrust generated by the propeller.</p></li>
<li><p>Angular Momentum: The change in angular momentum is used to calculate the torque required to rotate the propeller.</p></li>
</ul>
</section>
<section id="combining-bet-and-momentum-theory">
<h4>Combining BET and Momentum Theory:<a class="headerlink" href="#combining-bet-and-momentum-theory" title="Link to this heading"></a></h4>
<p>BEMT combines the local blade element forces with the overall momentum changes to provide a complete picture of the propeller’s performance. The integration process involves:</p>
<ul class="simple">
<li><p>Iterative Process: An iterative approach matches the local inflow angles and induced velocities predicted by momentum theory with those calculated from blade element theory.</p></li>
<li><p>Induced Velocity Correction: The theory accounts for the induced velocity (downwash) caused by the propeller, which affects the angle of attack and, consequently, the lift and drag forces on each blade element.</p></li>
</ul>
</section>
<section id="performance-prediction">
<h4>Performance Prediction:<a class="headerlink" href="#performance-prediction" title="Link to this heading"></a></h4>
<p>By integrating the forces and moments across all blade elements, BEMT provides critical performance parameters of the propeller, such as:</p>
<ul class="simple">
<li><p><strong>Thrust</strong>: The total axial force generated by the propeller.</p></li>
<li><p><strong>Torque</strong>: The total rotational force required to drive the propeller.</p></li>
<li><p><strong>Efficiency</strong>: The ratio of useful power output (thrust power) to mechanical power input.</p></li>
</ul>
<p>The mathematical formulation of the vanilla version of BEMT can be found in a standard wind turbine propeller/propulsion textbook. Based on the formulation, we can write our code.  Several proprietaries and open-source codes and software are available based on the above theory, which can also be used.</p>
<p>We have developed an in-house propeller analysis code based on blade element momentum theory (BEMT), which combined blade element theory with momentum theory. We incorporate suggested techniques in our code to improve its accuracy and robustness. In the next section, we detail the mathematical modeling of these theories, along with the methods employed for these improvements.</p>
</section>
</section>
<section id="mathematical-formulation-of-blade-element-theory">
<h3>Mathematical Formulation of Blade Element Theory:<a class="headerlink" href="#mathematical-formulation-of-blade-element-theory" title="Link to this heading"></a></h3>
<hr class="docutils" />
<p>This approach involves the blade element analysis, where the propeller blade is divided into numerous sections. For each section, lift and drag forces are calculated based on their unique airfoil characteristics and the prevailing operational conditions, similar to the force dynamics on an aircraft wing. These forces are then resolved along the propeller’s axis, as depicted in Figure~\ref{bem}, to determine the propeller’s resultant thrust and torque.</p>
<p><strong>Blade Element Theory:</strong> This approach involves the blade element
analysis, where the propeller blade is divided into numerous sections.
For each section, lift and drag forces are calculated based on their
unique airfoil characteristics and the prevailing operational
conditions, similar to the force dynamics on an aircraft wing. These
forces are then resolved along the propeller’s axis, as depicted in
Fig. 10, to determine
the propeller’s resultant thrust and torque.</p>
<figure style="text-align: center;">
  <img src="figures/bem.png">
  <figcaption>Fig. 10: Propeller analysis using blade element model</figcaption>
</figure>
<p>The forces generated by an elemental blade section are mathematically
represented as axial force (<span class="math notranslate nohighlight">\(dT\)</span>) and angular force (<span class="math notranslate nohighlight">\(dQ\)</span>). These
forces, acting in a plane perpendicular to the blade, are derived from
the differential lift (<span class="math notranslate nohighlight">\(dL\)</span>) and drag (<span class="math notranslate nohighlight">\(dD\)</span>) forces, considering the
inflow angle (<span class="math notranslate nohighlight">\(\phi\)</span>):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    dT = &amp;~dL \cos\phi - dD \sin\phi \\
    dQ = &amp;~dL \sin\phi + dD \cos\phi
\end{aligned}\end{split}\]</div>
<p>We further express them in terms of the local resultant wind speed
(<span class="math notranslate nohighlight">\(V_R\)</span>), chord length (<span class="math notranslate nohighlight">\(c_r\)</span>), air density (<span class="math notranslate nohighlight">\(\rho\)</span>), and aerodynamic
coefficients <span class="math notranslate nohighlight">\(C_l\)</span> and <span class="math notranslate nohighlight">\(C_d\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    dT = &amp;~\frac{1}{2} \rho V_R^2 c_r dr \left[ C_l(\alpha) \cos \phi - C_d(\alpha) \sin \phi \right] \\
    dQ = &amp;~\frac{1}{2} \rho V_R^2 c_r dr \left[ C_l(\alpha) \sin \phi + C_d(\alpha) \cos \phi \right]
\end{aligned}\end{split}\]</div>
<p><span class="math notranslate nohighlight">\(V_R\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> are calculated using the free stream velocity
(<span class="math notranslate nohighlight">\(V_{\infty}\)</span>), rotational speed (<span class="math notranslate nohighlight">\(\Omega\)</span>), and the axial and angular
induction factors (<span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(a^{\prime}\)</span>):</p>
<div class="math notranslate nohighlight">
\[V_R = \sqrt{\left[V_{\infty}(1+a)\right]^2 + \left[\Omega r\left(1-a^{\prime}\right)\right]^2}
    \]</div>
<div class="math notranslate nohighlight">
\[\phi = \tan^{-1}\left[\frac{V_{\infty}(1+a)}{\Omega r\left(1-a^{\prime}\right)}\right]\]</div>
<p>The differential thrust (<span class="math notranslate nohighlight">\(dT\)</span>) and torque (<span class="math notranslate nohighlight">\(d\tau\)</span>) are computed as
follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    dT = \sigma_{r} \frac{(1+a)^2}{\sin^2 \phi}\left[C_l(\alpha) \cos \phi - C_d(\alpha) \sin \phi\right] V_{\infty}^2 \rho \pi r dr \\
    d\tau = \sigma_{r} \frac{(1+a)^2}{\sin^2 \phi}\left[C_l(\alpha) \sin \phi + C_d(\alpha) \cos \phi\right] V_{\infty}^2 \rho \pi r^2 dr \
\end{aligned}\end{split}\]</div>
<p>Here, <span class="math notranslate nohighlight">\(\sigma_{r} = \frac{B c_{r}}{2 \pi r}\)</span> represents the blade
solidity, with <span class="math notranslate nohighlight">\(B\)</span> being the number of propeller blades.</p>
<p>The thrust and torque now can be obtained once we know <span class="math notranslate nohighlight">\(V_r\)</span>, <span class="math notranslate nohighlight">\(C_l\)</span>, and
<span class="math notranslate nohighlight">\(C_d\)</span>. We know from Equation <a class="reference internal" href="#vr"><span class="xref myst">[vr]</span></a> that <span class="math notranslate nohighlight">\(V_R\)</span> estimation requires <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(a^{\prime}\)</span>.
Therefore, we combine the momentum theory described in the following
section to get the induced velocity.</p>
<p><strong>Momentum Theory:</strong> Momentum theory is based on conceptualizing the
propeller as an actuator disk. This idealization represents the
propeller as an infinitely thin disk that induces a minor velocity
increment (<span class="math notranslate nohighlight">\(u\)</span>) in the flow direction.
Fig. 11 provides a
clear representation of the actuator disk model in the context of
propeller analysis.</p>
<figure style="text-align: center;">
  <img src="figures/disk.png">
  <figcaption>Fig. 11: Propeller analysis using momentum theory</figcaption>
</figure>
<p>The analysis assumes that energy states before and after the propeller
remain conserved. Applying Bernoulli’s theorem, we can express the
pressure difference across the actuator disk as:</p>
<div class="math notranslate nohighlight">
\[\Delta p = \frac{1}{2} \rho V_{\infty}^2 4a(1 + a)\]</div>
<p>Here, <span class="math notranslate nohighlight">\(\Delta p\)</span> represents the pressure difference, <span class="math notranslate nohighlight">\(\rho\)</span> is the air
density, and <span class="math notranslate nohighlight">\(a\)</span> is the axial induction factor, quantifying the velocity
increment induced by the propeller.</p>
<p>Considering this pressure difference over a small area <span class="math notranslate nohighlight">\(dA = 2\pi r dr\)</span>
of the disk, the incremental thrust <span class="math notranslate nohighlight">\(dT\)</span> is derived:</p>
<div class="math notranslate nohighlight">
\[dT = \frac{1}{2}\rho V_{\infty}^2 4a(1 + a)(2\pi r dr)
    \]</div>
<p>This equation calculates the differential thrust, with <span class="math notranslate nohighlight">\(r\)</span> denoting the
radial position on the disk.</p>
<p>For the propeller’s rotational effects, the incremental torque (<span class="math notranslate nohighlight">\(d\tau\)</span>)
is linked to the change in angular momentum for an elemental annulus of
the disk:</p>
<div class="math notranslate nohighlight">
\[d\tau = \rho\left( 2\pi r dr\right) V_d r^2\omega\]</div>
<p>The angular induction factor, <span class="math notranslate nohighlight">\(a^{\prime}\)</span>, relates to the induced
angular velocity (<span class="math notranslate nohighlight">\(\omega\)</span>) and the propeller disk’s angular velocity
(<span class="math notranslate nohighlight">\(\Omega\)</span>):</p>
<div class="math notranslate nohighlight">
\[a^{\prime} = \frac{\omega}{2\Omega}\]</div>
<p>The induced velocity (<span class="math notranslate nohighlight">\(V_d\)</span>) through the disk, influenced by <span class="math notranslate nohighlight">\(a\)</span>, is:</p>
<div class="math notranslate nohighlight">
\[V_d = V_{\infty}(1+a)\]</div>
<p>Integrating the incremental torque over the entire disk yields the total
torque:</p>
<div class="math notranslate nohighlight">
\[d\tau = 2 a^{\prime} (1+a)\rho V_{\infty} \Omega r^3 \pi dr
    \]</div>
<p>To enhance the accuracy of momentum theory, we incorporate corrections
as suggested by &#64;Glauert1935, aligning theoretical predictions with
empirical data. The tip loss correction factor (<span class="math notranslate nohighlight">\(\mathcal{F}_{T}\)</span>),
addressing lift loss at the propeller’s tips due to air pressure
differences, is calculated as follows:</p>
<div class="math notranslate nohighlight">
\[\mathcal{F}_{T}=\frac{2}{\pi}\cos^{-1}\left[e^{-{\frac{B}{2}\left(\frac{R-r}{r |{\sin\phi}|}\right)}}\right]\]</div>
<p>Similarly, the hub loss correction factor (<span class="math notranslate nohighlight">\(\mathcal{F}_{H}\)</span>) accounts
for lift loss near the propeller hub:
$<span class="math notranslate nohighlight">\(\mathcal{F}_{H}=\frac{2}{\pi}\cos^{-1}\left[e^{-{\frac{B}{2}\left(\frac{r - R_{H}}{R_{H} |{\sin\phi}|}\right)}}\right]\)</span><span class="math notranslate nohighlight">\(
The combined effect, \)</span>\mathcal{F} = \mathcal{F}<em>{T}\mathcal{F}</em>{H}<span class="math notranslate nohighlight">\(, is
applied to the disk loading equations
(Equations [\[disk_thrust\]](#disk_thrust) and
[\[disk_torque\]](#disk_torque)) to align with Blade Element Momentum (BEM)
theory solutions
(Equations [\[bem_thrust\]](#bem_thrust) and
[\[bem_torque\]](#bem_torque)). This yields:
\)</span><span class="math notranslate nohighlight">\(\begin{aligned}
    &amp; \frac{a}{1+a}=\frac{\sigma_r \left[C_l \cos \phi - C_d \sin \phi\right]}{4 \mathcal{F} \sin ^2 \phi} \\
    &amp; \frac{a^{\prime}}{1+a}=\frac{\sigma_r\left[C_l \sin \phi + C_d \cos \phi\right]}{4 \mathcal{F} \lambda_r \sin ^2 \phi}
\end{aligned}\)</span><span class="math notranslate nohighlight">\(
where \)</span>\lambda_r<span class="math notranslate nohighlight">\( is the tip speed ratio, which is
represented by \)</span>\frac{\Omega r}{V_{\infty}}$.</p>
<p>We utilize XFOIL for pre-stall aerodynamic
coefficients estimation and the Viterna method
for post-stall extrapolation:</p>
<div class="math notranslate nohighlight">
\[C_l=\frac{C_{d_{max}}}{2} \sin 2 \alpha+k_l \frac{\cos ^2 \alpha}{\sin \alpha}\]</div>
<p>where <span class="math notranslate nohighlight">\(C_{d_{max}}\)</span> is the drag coefficient at the angle of attack of 90
degrees. <span class="math notranslate nohighlight">\(k_l\)</span> represents a correction factor for lift, calculated based
on the stall coefficients. Similarly, the drag coefficient is given by:
$<span class="math notranslate nohighlight">\(C_d= C_{d_{max}}\sin ^2 \alpha+k_d \cos \alpha\)</span>$</p>
<p>For finite aspect ratio blades, <span class="math notranslate nohighlight">\(C_{d_{max}}\)</span> varies based on aspect
ratio (<span class="math notranslate nohighlight">\(AR\)</span>):
$<span class="math notranslate nohighlight">\(
C_{d_{max}}= \begin{cases}
    1.11 + 0.018 \, AR, &amp; \text{if } AR \leq 50 \\
    2.01, &amp; \text{otherwise}
\end{cases}
\)</span><span class="math notranslate nohighlight">\(
 The coefficients \)</span>k_l<span class="math notranslate nohighlight">\( and \)</span>k_d<span class="math notranslate nohighlight">\( are calculated using
stall coefficients:
\)</span><span class="math notranslate nohighlight">\(k_l=\left(C_{l_s}-C_{d_{max}} \sin \alpha_s \cos \alpha_s\right) \frac{\sin \alpha_s}{\cos ^2 \alpha_s}\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(k_d=\frac{C_{d_s}-C_{d_{max}} \sin ^2 \alpha_s}{\cos \alpha_s}\)</span>$</p>
<p>To quickly predict <span class="math notranslate nohighlight">\(C_l\)</span> and <span class="math notranslate nohighlight">\(C_d\)</span> across various <span class="math notranslate nohighlight">\(Re\)</span> and angles of
attack, we have developed a kriging-based surrogate model and coupled it
to the propeller model. Once the values of <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(a^\prime\)</span> are
determined, <span class="math notranslate nohighlight">\(T\)</span> and <span class="math notranslate nohighlight">\(\tau\)</span> can be estimated by summing <span class="math notranslate nohighlight">\(dT\)</span> and <span class="math notranslate nohighlight">\(d\tau\)</span>
across the entire blade, respectively. We get the thrust coefficient
(<span class="math notranslate nohighlight">\(C_T\)</span>) as:</p>
<div class="math notranslate nohighlight">
\[C_T=\frac{T}{\rho n^2 D^4}\]</div>
<p>Here, <span class="math notranslate nohighlight">\(n\)</span> represents the
propeller speed in rotations per second, and <span class="math notranslate nohighlight">\(D\)</span> denotes the propeller
diameter. We calculate the power coefficient (<span class="math notranslate nohighlight">\(C_P\)</span>) as:</p>
<div class="math notranslate nohighlight">
\[C_P= \frac{P}{\rho n^3 D^5}\]</div>
<p>P is the power we get from
<span class="math notranslate nohighlight">\(2\pi n \tau\)</span>. We get the efficiency (<span class="math notranslate nohighlight">\(\eta\)</span>) as:</p>
<div class="math notranslate nohighlight">
\[\eta= J\frac{C_T}{C_P}\]</div>
<p>where <span class="math notranslate nohighlight">\(J= \frac{V}{n D}\)</span>, is the advance
ratio. The following section briefly discusses the validation study
conducted for the motor and propeller model.</p>
</section>
</section>
<section id="model-validation">
<h2>Model Validation<a class="headerlink" href="#model-validation" title="Link to this heading"></a></h2>
<p>This section discusses the validation studies of the motor and propeller
models.</p>
<section id="motor-performance-validation">
<h3>Motor Performance Validation<a class="headerlink" href="#motor-performance-validation" title="Link to this heading"></a></h3>
<p>We conduct a validation of our motor model against the EMRAX 208, an axial flux motor shown in Fig. 11 renowned for its
compact and efficient design, making it ideal for electric aircraft
applications.</p>
<figure style="text-align: center;">
  <img src="figures/emrax_208.png">
  <figcaption>Fig. 11: EMRAX 208 Motor</figcaption>
</figure>
<p>Table 01 lists
the corresponding key motor parameters. This validation process is
crucial to ensuring that our motor model accurately reflects the
performance characteristics of the EMRAX 208, thereby confirming its
suitability for integration into the propulsion system of our electric
aircraft design.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameters</strong></p></th>
<th class="head"><p><strong>Values</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Continuous Power (<span class="math notranslate nohighlight">\({P}_{\mathrm{cont}}\)</span>), [kW]</p></td>
<td><p>25-40</p></td>
</tr>
<tr class="row-odd"><td><p>Peak Power (<span class="math notranslate nohighlight">\({P}_{\mathrm{peak}}\)</span>), [kW]</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-even"><td><p>Continuous Torque (<span class="math notranslate nohighlight">\({Q}_{\mathrm{cont}}\)</span>), [N.m]</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-odd"><td><p>Peak Torque (<span class="math notranslate nohighlight">\({Q}_{\text{peak}}\)</span>), [N.m]</p></td>
<td><p>150</p></td>
</tr>
<tr class="row-even"><td><p>Continuous Current (<span class="math notranslate nohighlight">\({I}_{\mathrm{cont}}\)</span>), [A]</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-odd"><td><p>Peak Current (<span class="math notranslate nohighlight">\({I}_{\text{peak}}\)</span>), [A]</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-even"><td><p>Rated Speed (<span class="math notranslate nohighlight">\({ \omega }_{ \mathrm{rated} }\)</span>), [RPM]</p></td>
<td><p>4500</p></td>
</tr>
<tr class="row-odd"><td><p>Maximum Speed (<span class="math notranslate nohighlight">\({ \omega }_{ \mathrm{max} }\)</span>), [RPM]</p></td>
<td><p>6000</p></td>
</tr>
<tr class="row-even"><td><p>Torque Constant (<span class="math notranslate nohighlight">\({ K }_{ \mathrm{t} }\)</span>), [N.m/A]</p></td>
<td><p>0.83</p></td>
</tr>
<tr class="row-odd"><td><p>Poles (<span class="math notranslate nohighlight">\({ n_{pole} }\)</span>), [-]</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>Resistance (<span class="math notranslate nohighlight">\({ R_s }\)</span>), [m omega]</p></td>
<td><p>125</p></td>
</tr>
<tr class="row-odd"><td><p>Inductance (<span class="math notranslate nohighlight">\({ L_s }\)</span>), [mu H]</p></td>
<td><p>130</p></td>
</tr>
<tr class="row-even"><td><p>Flux Linkage (<span class="math notranslate nohighlight">\({ \psi }_{ \mathrm{m} }\)</span>), [Vs]</p></td>
<td><p>0.0393</p></td>
</tr>
<tr class="row-odd"><td><p>Back EMF (<span class="math notranslate nohighlight">\({ K }_{ \mathrm{e} }\)</span>), [Vs/rad]</p></td>
<td><p>15</p></td>
</tr>
</tbody>
</table>
<p><em>Table 01: EMRAX 208HC CC PMSM Parameters</em></p>
<p>Fig. 12
illustrates the EMRAX 208 motor’s performance, showcasing peak power and
torque over varying speeds. The motor operates efficiently within its
Maximum Torque per Ampere (MTPA) range and Flux-weakening (FW) regimes
for optimal power. Manufacturer data are plotted
alongside our model’s performance curves. Notably, peak torque (orange)
diminishes with increasing speed, while peak power (blue) rises to a
plateau. Power loss (green) escalates with speed. The close alignment
between the model and empirical data assures that the model is
acceptable for our use case.</p>
<figure style="text-align: center;">
  <img src="figures/motor_valid_emrax208.png">
  <figcaption>Fig. 12: Peak power, torque, power loss validated with EMRAX manufacturer's
data</figcaption>
</figure>
</section>
</section>
<section id="motor">
<h2>Motor<a class="headerlink" href="#motor" title="Link to this heading"></a></h2>
<hr class="docutils" />
<section id="motor-modeling">
<h3>Motor Modeling<a class="headerlink" href="#motor-modeling" title="Link to this heading"></a></h3>
<p>Electric motors are an integral part of electric aircrafts. They are
responsible for converting electrical energy into mechanical energy,
providing propulsive force necessary for flight. UAM aircraft while
going through various flight phases, require motors that can deliver
high torque within a confined speed range. This is distinct from the
automotive industry’s focus on high-speed motors for electric vehicles
(EVs).</p>
<p>For our eVTOL aircraft propulsion, we’ve chosen Permanent Magnet
Synchronous Motors (PMSMs) over Brushless DC Motors (BLDC) due to their
superior compactness, high torque density and rapid
response to load changes, Tessential for eVTOL’s varying
flight demands. PMSMs offer greater efficiency, lower noise, and
improved power density, despite their higher cost and complex control
requirements. These features make
PMSMs the optimal choice for achieving the performance goals of our
eVTOL aircraft design, ensuring it meets the high standards required for
efficient and effective propulsion.</p>
<p>Fig. 13 represents a simplified equivalent circuit
model of a PMSM. The stator resistance <span class="math notranslate nohighlight">\(R_s\)</span> and synchronous inductance
<span class="math notranslate nohighlight">\(L_s\)</span> are parameters obtained from motor manufacturers. For analyzing
the motor’s performance, phasor analysis within the d-q reference frame
is employed. The rotor’s magnetic
field establishes the d-axis as the reference axis.</p>
<figure style="text-align: center;">
  <img src="figures/motor_circuit.png">
  <figcaption>Fig. 13: Phase-wise equivalent circuit of a
PMSM</figcaption>
</figure>
<p>The back electromotive force <span class="math notranslate nohighlight">\(E_{\phi,mot(q)}\)</span> in the motor is
calculated using:</p>
<div class="math notranslate nohighlight">
\[E_{\phi,mot(q)} = K_e \cdot \omega_{rotor} = \frac{\omega_{rotor}}{K_v}\]</div>
<p>where <span class="math notranslate nohighlight">\(\omega_{rotor}\)</span> represents the rotor speed, <span class="math notranslate nohighlight">\(K_e\)</span> is the back EMF
constant (<span class="math notranslate nohighlight">\(V s / rad\)</span>), and <span class="math notranslate nohighlight">\(K_v\)</span> is the motor constant provided by the
manufacturer (<span class="math notranslate nohighlight">\(rpm / V\)</span>).</p>
<p>The no-load torque (<span class="math notranslate nohighlight">\(Q_{nl}\)</span>) and the electromechanical torque
(<span class="math notranslate nohighlight">\(Q_{em}\)</span>) are determined by the following equations:</p>
<div class="math notranslate nohighlight">
\[Q_{nl} = \frac{P_{\mathrm{mech}}}{\omega_{\mathrm{rotor}}}\]</div>
<div class="math notranslate nohighlight">
\[Q_{em} = Q_{rotor} + Q_{nl}\]</div>
<p>where <span class="math notranslate nohighlight">\(P_{\mathrm{mech}}\)</span> is the
mechanical power loss of the motor and <span class="math notranslate nohighlight">\(Q_{rotor}\)</span> is the load torque
from the propeller.</p>
<p>When field weakening is not applied (<span class="math notranslate nohighlight">\(I_{\phi,mot(d)} = 0\)</span>), the
magnitude of the phase current is estimated as:</p>
<div class="math notranslate nohighlight">
\[|I_{\phi,mot}| = I_{\phi,mot(q)} = \frac{Q_{em}}{3 \cdot K_e} = \frac{Q_{em} \cdot K_v}{3}\]</div>
<p>The components of the d-axis and q-axis voltages are described as:</p>
<div class="math notranslate nohighlight">
\[V_{\phi,mot(d)} = -\omega_{rotor} \cdot n_{pp} \cdot L_s \cdot I_{ph,mot(q)}\]</div>
<div class="math notranslate nohighlight">
\[V_{\phi,mot(q)} = E_{\phi,mot(q)} + R_s \cdot I_{\phi,mot(q)}\]</div>
<p>The phase voltage magnitude is then calculated by:
$<span class="math notranslate nohighlight">\(|V_{\phi,mot}| = \sqrt{V_{\phi,mot(d)}^2 + V_{\phi,mot(q)}^2}\)</span>$</p>
<p>The total power loss (<span class="math notranslate nohighlight">\(P_{loss}\)</span>) and input power (<span class="math notranslate nohighlight">\(P_{in,mot}\)</span>) are
given by:
$<span class="math notranslate nohighlight">\(P_{loss} = P_{cu} + P_{mech}\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(P_{in,mot} = P_{loss} + Q_{rotor} \cdot \omega_{rotor}\)</span>$</p>
<p>The modulation index (<span class="math notranslate nohighlight">\(m_a\)</span>) is defined as:</p>
<div class="math notranslate nohighlight">
\[m_a = 2\sqrt{2} \cdot \frac{|V_{\phi,mot}|}{V_{DC}}\]</div>
<p>where <span class="math notranslate nohighlight">\(V_{DC}\)</span>
is the DC bus voltage.</p>
<p>In our study, mechanical losses like windage, friction, and stray
losses, which generally account for a minor portion of total power
losses, were deemed negligible in line with existing literature. Consequently, we equated
mechanical losses to copper losses when assessing efficiency. Our
analysis focused on copper losses due to their substantial role in total
losses, as highlighted in previous research.
$<span class="math notranslate nohighlight">\(P_{cu} = 3 \cdot R_s \cdot |I_{\phi,mot}|^2\)</span>$</p>
</section>
</section>
<section id="inverter">
<h2>Inverter<a class="headerlink" href="#inverter" title="Link to this heading"></a></h2>
<hr class="docutils" />
<section id="inverter-modeling">
<h3>Inverter Modeling<a class="headerlink" href="#inverter-modeling" title="Link to this heading"></a></h3>
<p>A three-phase inverter is used to convert DC into AC for powering a
Permanent Magnet Synchronous Motor (PMSM). In our analysis, we focus on
the efficiency of this inverter, which employs Gallium Nitride (GaN)
Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs).
GaN-MOSFETs are recognized for their high efficiency, largely due to
their low on-state resistance and higher switching speed. These properties enable the development of smaller
and lighter inverters, essential in aerospace applications. Despite
their relatively recent emergence, the rapid advancements in GaN
technology make them a
promising choice.</p>
<p>A critical factor in inverter efficiency is the conduction losses of
GaN-MOSFETs, which constitute a significant portion of total power
losses. We simplify the assessment by focusing on conduction losses and
omitting switching losses, which are generally low for GaN devices. The
conduction losses are quantified using the phase current
(<span class="math notranslate nohighlight">\(I_{\phi,inv}\)</span>) and the MOSFET’s on-state resistance (<span class="math notranslate nohighlight">\(R_{ds(on)}\)</span>).
Additionally, the modulation index (<span class="math notranslate nohighlight">\(m_a\)</span>) and the phase angle (<span class="math notranslate nohighlight">\(\phi\)</span>)
are crucial to the calculation, representing the inverter’s operating
conditions and the power factor of the load, respectively.</p>
<div class="math notranslate nohighlight">
\[P_{\mathrm{M,inv}} = I_{\mathrm{\phi,inv}}^2 \cdot R_{\mathrm{ds(on)}} \cdot \left(\frac{1}{8} + \frac{m_a \cdot \cos(\phi)}{8}\right)\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    P_{\mathrm{D,inv}} = &amp; I_{\mathrm{\phi,inv}} \cdot V_{\mathrm{fw}} \cdot \left(\frac{1}{2\pi} - \frac{m_a \cdot \cos(\phi)}{8}\right) \nonumber \\
    &amp; + I_{\mathrm{\phi,inv}}^2 \left(\frac{1}{8} - \frac{m_a \cdot \cos(\phi)}{3\pi}\right) \cdot R_{\mathrm{d}}
\end{aligned}\end{split}\]</div>
<p>The total conduction losses within the inverter are obtained by summing
the losses from the MOSFETs and diodes:</p>
<div class="math notranslate nohighlight">
\[P_{\mathrm{loss,inv}} = 6 \cdot (P_{\mathrm{M,inv}} + P_{\mathrm{D,inv}})\]</div>
<p>Subsequently, the input power and current to the inverter
(<span class="math notranslate nohighlight">\(I_{\mathrm{in,inv}}\)</span>) can be determined to provide insight into the
overall efficiency of the power conversion process:</p>
<div class="math notranslate nohighlight">
\[P_{\mathrm{in,inv}} = P_{\mathrm{loss,inv}} + P_{\mathrm{out,inv}}\]</div>
<div class="math notranslate nohighlight">
\[I_{\mathrm{in,inv}} = \frac{P_{\mathrm{in,inv}}}{V_{\mathrm{DC}}}\]</div>
<p>This analytical approach enables the quick estimate of the inverter’s
efficiency. In the next section we describe the motor modeling.</p>
</section>
<section id="converter">
<h3>Converter<a class="headerlink" href="#converter" title="Link to this heading"></a></h3>
<section id="converter-model">
<h4>Converter Model<a class="headerlink" href="#converter-model" title="Link to this heading"></a></h4>
<p>A DC-DC converter is an integral component in power supply applications,
serving to adapt the voltage level of a DC source to meet the
requirements of various devices. Such converters are pivotal in managing
energy flow in systems where source and load voltages differ. They are
commonly utilized for voltage regulation in energy storage systems and
portable electronic devices, among other applications. This
study focuses on buck converters due to their relevance in electric
propulsion systems, particularly in eVTOLs. High-voltage batteries or
fuel cells employed in eVTOLs necessitate buck converters to step down
the voltage to suitable levels for motors, avionics, and other electric
devices.</p>
<p>The efficiency of a buck converter is a critical aspect directly
influenced by the power losses occurring within its components, namely
the MOSFET, diode, and inductors. These losses are quantified using the
ensuing equations:</p>
<div class="math notranslate nohighlight">
\[D = \frac{V_{\mathrm{in,conv}}}{V_{\mathrm{out,conv}}}
    \label{equation:dutycycle}\]</div>
<p>where <span class="math notranslate nohighlight">\(D\)</span> represents the duty cycle of
the converter, a unitless parameter that determines the output voltage
(<span class="math notranslate nohighlight">\(V_{\mathrm{out,conv}}\)</span>) and (<span class="math notranslate nohighlight">\(V_{\mathrm{in,conv}}\)</span>) is the input
voltage. The duty cycle is instrumental in calculating the power losses
in both the MOSFET and the diode, which can be determined using
Equations below:</p>
<div class="math notranslate nohighlight">
\[P_{\mathrm{M,conv}} = I_{\mathrm{out,conv}}^2 \cdot R_{\mathrm{ds(on)}} \cdot D
   \]</div>
<div class="math notranslate nohighlight">
\[P_{\mathrm{D,conv}} = I_{\mathrm{out,conv}} \cdot (1-D) \cdot V_{\mathrm{fw}} + I_{\mathrm{out,conv}}^2 \cdot (1-D) \cdot R_{\mathrm{d}}\]</div>
<p>Inductor losses can be calculated from the output current
(<span class="math notranslate nohighlight">\(I_{\mathrm{out,conv}}\)</span>) and inductance of the converter
(<span class="math notranslate nohighlight">\(R_{\mathrm{L}}\)</span>):</p>
<div class="math notranslate nohighlight">
\[P_{\mathrm{L,conv}} = I_{\mathrm{out,conv}}^2 \cdot R_{\mathrm{L}}\]</div>
<p>The cumulative loss within the converter aggregates the losses from the
MOSFET, diode, and inductor components:
$<span class="math notranslate nohighlight">\(P_{\mathrm{losses,conv}} = P_{\mathrm{M,conv}} + P_{\mathrm{D,conv}} + P_{\mathrm{L,conv}}
    \label{equation:converterloss}\)</span><span class="math notranslate nohighlight">\( 
Finally, the input current
(\)</span>I_{\mathrm{in,conv}}<span class="math notranslate nohighlight">\() to the converter is computed as the quotient of
the input power and the input voltage:
\)</span><span class="math notranslate nohighlight">\(I_{\mathrm{in,conv}} = \frac{P_{\mathrm{out,conv}}+P_{\mathrm{loss,conv}}}{V_{\mathrm{in,conv}}}\)</span>$
It is essential to account for all types of losses to ensure the
accurate prediction of the converter’s performance. These losses
directly impact the efficiency and thermal management of the converter,
which are crucial for the reliable operation of eVTOLs.</p>
</section>
</section>
<section id="battery">
<h3>Battery<a class="headerlink" href="#battery" title="Link to this heading"></a></h3>
<hr class="docutils" />
<section id="battery-model">
<h4>Battery Model<a class="headerlink" href="#battery-model" title="Link to this heading"></a></h4>
<p>Accurate State of Charge (SoC) estimation is crucial for estimating
aircraft performance. Various battery models have been discussed in
literature, each with its own merits. Electrochemical mechanism models
are highly accurate but complex, making them more suitable for battery
design and manufacturing. Data-driven models, especially those based on
neural networks, require extensive training data, leading to higher
computational costs.</p>
<p>Equivalent Circuit Model (ECM)-based models offer an optimal balance
between complexity and accuracy, making them preferred choices for
real-world applications. While
Thevenin and other battery models provide higher accuracy, around
<span class="math notranslate nohighlight">\(\pm\)</span> 1%, our
framework utilizes a modified version of the ECM, depicted in
Fig. 14. This
model is selected for its speed, robustness, and reasonable accuracy
. It simplifies the parameterization process
using inputs derived from discharge characteristics or manufacturer data
and is adaptable to a variety of battery chemistries and configurations.
The modular nature of our framework also allows for easy integration of
alternative models, offering the flexibility needed to adapt to
different scenarios.</p>
<figure style="text-align: center;">
  <img src="figures/battery.png">
  <figcaption>Fig. 14: Battery model equivalent circuit
diagram
</figcaption>
</figure>
<p>Fig. 15 presents the typical discharge curve of a
Li-Ion battery, capturing three distinct regions. Initially, there’s a
rapid voltage drop, termed the exponential region, followed by the
nominal region, where voltage stabilizes, offering consistent power
output. Finally, the voltage sharply decreases to the cut-off point,
indicating the battery’s minimum usable limit to prevent damage. The
horizontal axis measures the battery’s storage capacity in Ampere-hours
(Ah), marking the top, nominal, and maximum capacity, respectively, with
a steep voltage decline signifying depletion and the need for
recharging.</p>
<figure style="text-align: center;">
  <img src="figures/battery_discharge_curve.png">
  <figcaption>Fig. 15: Typical discharge curve of a
battery
</figcaption>
</figure>
<p>We use a model incorporating polarization voltage as a time-dependent
state variable, accounting for variations in output voltage
[&#64;tremblay2009experimental]. The discharge voltage is estimated using
the following equation:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    V_{\mathrm{B}} = &amp; \underbrace{V_{\mathrm{C}}-R_{\mathrm{B}} I_{\mathrm{B}}}_{\text{Equivalent circuit}} \notag \\
    &amp; - \underbrace{K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}}-\int_{L_{\mathrm{1}}}^{t_2} \frac{I_{\mathrm{n}}}{3650} \mathrm{d} t}\left(\int_{t_1}^{t_2} \frac{I_{\mathrm{B}}}{3600} \mathrm{d} t+I_{\mathrm{F}}\right)}_{\text{Polarization}}  \notag \\
    &amp; + \underbrace{A \exp \left(-B \int_{t_1}^{t_2} \frac{I_{\mathrm{B}}}{3600} \mathrm{d} t\right)}_{\text{Exponential}}
\end{aligned}\end{split}\]</div>
<p>Here, <span class="math notranslate nohighlight">\(A\)</span> is the amplitude of the exponential zone (V), <span class="math notranslate nohighlight">\(B\)</span> is the
inverse time constant, <span class="math notranslate nohighlight">\(Q_{\mathrm{N}}\)</span> is the nominal battery capacity
(Ah), <span class="math notranslate nohighlight">\(R_{\mathrm{B}}\)</span> is the internal resistance (<span class="math notranslate nohighlight">\(\Omega\)</span>), <span class="math notranslate nohighlight">\(K\)</span> is the
polarization constant, <span class="math notranslate nohighlight">\(V_{\mathrm{C}}\)</span> is the battery’s constant
voltage, and <span class="math notranslate nohighlight">\(V_{\mathrm{B}}\)</span> is the terminal voltage. <span class="math notranslate nohighlight">\(I_{\mathrm{F}}\)</span>
and <span class="math notranslate nohighlight">\(I_{\mathrm{B}}\)</span> denote the filtered and battery currents,
respectively. The coefficients <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span> are defined as follows:</p>
<div class="math notranslate nohighlight">
\[A=V_{\mathrm{F}}-V_{\mathrm{C}}+R_{\mathrm{B}} I_{\mathrm{B}}, \quad B=\frac{3}{Q_{\mathrm{E}}}\]</div>
<p>To determine the polarization constant <span class="math notranslate nohighlight">\(K\)</span>, we use the following
equation, considering maximum charge (<span class="math notranslate nohighlight">\(Q_{max}\)</span>), nominal charge
(<span class="math notranslate nohighlight">\(Q_{N}\)</span>), and other battery parameters:</p>
<div class="math notranslate nohighlight">
\[K = -\frac{\left(Q_{\max} - Q_{\mathrm{N}}\right) \left[V_{\mathrm{N}} - V_{\mathrm{C}} + R_{\mathrm{B}} I_{\mathrm{B}} - A \exp \left(-B Q_{\mathrm{N}}\right)\right]}{Q_{\max} \left(Q_{\mathrm{N}} + I_{\mathrm{B}}\right)}\]</div>
<p>We estimate the SoC using the following expression:</p>
<div class="math notranslate nohighlight">
\[\mathrm{SoC} = \frac{Q_{\max} - \int_{t_1}^{t_2} \frac{I_{\mathrm{B}}}{3600} \mathrm{d} t}{Q_{\max}} \times 100%\]</div>
<p>Regarding the physical arrangement of batteries, they can be configured
in either series-parallel or parallel-series connections to achieve the
desired pack voltage and current. The total pack voltage (<span class="math notranslate nohighlight">\(V_{pack}\)</span>)
and current (<span class="math notranslate nohighlight">\(I_{pack}\)</span>) can be calculated as follows, where <span class="math notranslate nohighlight">\(N_S\)</span> and
<span class="math notranslate nohighlight">\(N_P\)</span> are the numbers of series and parallel connections, respectively:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    V_{\mathrm{pack}} &amp; = V_{\mathrm{B}} N_{\mathrm{S}}\\
    I_{\mathrm{pack}} &amp; = I_{\mathrm{B}} N_{\mathrm{P}}
\end{aligned}\end{split}\]</div>
</section>
</section>
<section id="battery-chemistry-models-and-parameters">
<h3>Battery Chemistry Models and Parameters<a class="headerlink" href="#battery-chemistry-models-and-parameters" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Chemistry</strong></p></th>
<th class="head"><p><strong>Voltage (<span class="math notranslate nohighlight">\(V_B\)</span>)</strong></p></th>
<th class="head"><p><strong>Model</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Lead-Acid</strong></p></td>
<td><p><strong>Discharge</strong></p></td>
<td><p><span class="math notranslate nohighlight">\(V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}} - Q_B}\left(Q_B + I_{\mathrm{F}}\right) + V_{\mathrm{exp}}(t)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Charge</strong></p></td>
<td><p><span class="math notranslate nohighlight">\(V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{B}} - 0.1 \cdot Q_N}I_{\mathrm{F}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}} - Q_{\mathrm{B}}}Q_{\mathrm{B}} + V_{\mathrm{exp}}(t)\)</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Li-Ion</strong></p></td>
<td><p><strong>Discharge</strong></p></td>
<td><p><span class="math notranslate nohighlight">\(V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}} - Q_B}\left(Q_B + I_{\mathrm{F}}\right) + A \exp \left(-B Q_B\right)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Charge</strong></p></td>
<td><p><span class="math notranslate nohighlight">\(V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{B}} - 0.1 \cdot Q_N}I_{\mathrm{F}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}} - Q_{\mathrm{B}}}Q_{\mathrm{B}} + A \exp \left(-B Q_B\right)\)</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>NiMH &amp; NiCd</strong></p></td>
<td><p><strong>Discharge</strong></p></td>
<td><p><span class="math notranslate nohighlight">\(V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{Q_{\mathrm{N}} - Q_B}\left(Q_B + I_{\mathrm{F}}\right) + V_{\mathrm{exp}}(t)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Charge</strong></p></td>
<td><p>$V_{\mathrm{EC}} - K \frac{Q_{\mathrm{N}}}{</p></td>
</tr>
</tbody>
</table>
</section>
<section id="equations">
<h3>Equations<a class="headerlink" href="#equations" title="Link to this heading"></a></h3>
<p>The discharge quantity ( Q_B ) is calculated as:</p>
<div class="math notranslate nohighlight">
\[Q_B = \int_{t_1}^{t_2} \frac{I_{\mathrm{B}}}{3600} \mathrm{~d} t\]</div>
<p>The voltage in the exponential zone <span class="math notranslate nohighlight">\(V_{\mathrm{exp}}(t)\)</span> is given by:</p>
<div class="math notranslate nohighlight">
\[V_{\mathrm{EC}} = V_{\mathrm{C}}-R_{\mathrm{B}} I_{\mathrm{B}}\]</div>
</section>
<section id="battery-parameters">
<h3>Battery Parameters<a class="headerlink" href="#battery-parameters" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Lead-Acid</p></th>
<th class="head"><p>NiCd</p></th>
<th class="head"><p>Li-Ion</p></th>
<th class="head"><p>NiMH</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Parameters</p></td>
<td><p>12V, 7.2Ah</p></td>
<td><p>1.2V, 2.3Ah</p></td>
<td><p>3.3V, 2.3Ah</p></td>
<td><p>1.2V, 6.5Ah</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(V_C\)</span> [V]</p></td>
<td><p>12.466</p></td>
<td><p>1.2705</p></td>
<td><p>3.366</p></td>
<td><p>1.2816</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(R_B\)</span> [<span class="math notranslate nohighlight">\(\omega\)</span>]</p></td>
<td><p>0.04</p></td>
<td><p>0.003</p></td>
<td><p>0.01</p></td>
<td><p>0.002</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(K\)</span> [<span class="math notranslate nohighlight">\(\omega\)</span>]</p></td>
<td><p>0.047</p></td>
<td><p>0.0037</p></td>
<td><p>0.0076</p></td>
<td><p>0.0014</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(A\)</span> [V]</p></td>
<td><p>0.83</p></td>
<td><p>0.127</p></td>
<td><p>0.26422</p></td>
<td><p>0.111</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(B\)</span> [A h(^{-1})]</p></td>
<td><p>125</p></td>
<td><p>4.98</p></td>
<td><p>26.5487</p></td>
<td><p>2.3077</p></td>
</tr>
</tbody>
</table>
<p><em>Battery Parameters</em></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, KADA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>